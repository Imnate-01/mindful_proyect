(()=>{var e={};e.id=961,e.ids=[961],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7124:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(7586),a(5800),a(5866);var s=a(3191),r=a(8716),n=a(7922),i=a.n(n),l=a(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["journal",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7586)),"C:\\Users\\Maria Guadalupe\\Desktop\\mindful_proyect\\app\\journal\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5800)),"C:\\Users\\Maria Guadalupe\\Desktop\\mindful_proyect\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Maria Guadalupe\\Desktop\\mindful_proyect\\app\\journal\\page.tsx"],m="/journal/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/journal/page",pathname:"/journal",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7053:(e,t,a)=>{Promise.resolve().then(a.bind(a,1882))},1882:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>D});var s=a(326),r=a(7577),n=a(5047);a(5472);var i=a(5694),l=a(1765),o=a(1876),d=a(1572),c=a(8360),m=a(4019),x=a(2881);let u=(0,x.Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var h=a(941);let g=(0,x.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),p=(0,x.Z)("chart-no-axes-column",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]]),b=(0,x.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),y={ansiedad:{name:"Ansiedad",emoji:"\uD83D\uDE1F",gradFrom:"from-rose-400",gradTo:"to-orange-400",ring:"focus:ring-rose-300",slider:"accent-rose-500",header:"text-rose-600",chip:"bg-rose-100 text-rose-700 border-rose-200",color:"#f43f5e",bgSoft:"bg-rose-50"},calma:{name:"Calma",emoji:"\uD83D\uDE0C",gradFrom:"from-teal-400",gradTo:"to-emerald-400",ring:"focus:ring-teal-300",slider:"accent-teal-500",header:"text-teal-600",chip:"bg-teal-100 text-teal-700 border-teal-200",color:"#14b8a6",bgSoft:"bg-teal-50"},alegria:{name:"Alegr\xeda",emoji:"\uD83D\uDE0A",gradFrom:"from-amber-300",gradTo:"to-yellow-400",ring:"focus:ring-amber-300",slider:"accent-amber-500",header:"text-amber-600",chip:"bg-amber-100 text-amber-700 border-amber-200",color:"#f59e0b",bgSoft:"bg-amber-50"},tristeza:{name:"Tristeza",emoji:"\uD83D\uDE22",gradFrom:"from-blue-400",gradTo:"to-indigo-400",ring:"focus:ring-blue-300",slider:"accent-blue-500",header:"text-blue-600",chip:"bg-blue-100 text-blue-700 border-blue-200",color:"#3b82f6",bgSoft:"bg-blue-50"},enojo:{name:"Enojo",emoji:"\uD83D\uDE20",gradFrom:"from-red-500",gradTo:"to-orange-600",ring:"focus:ring-red-300",slider:"accent-red-500",header:"text-red-600",chip:"bg-red-100 text-red-700 border-red-200",color:"#ef4444",bgSoft:"bg-red-50"},frustracion:{name:"Frustraci\xf3n",emoji:"\uD83D\uDE24",gradFrom:"from-orange-400",gradTo:"to-red-400",ring:"focus:ring-orange-300",slider:"accent-orange-500",header:"text-orange-600",chip:"bg-orange-100 text-orange-700 border-orange-200",color:"#f97316",bgSoft:"bg-orange-50"},neutra:{name:"Neutra",emoji:"\uD83D\uDE42",gradFrom:"from-gray-400",gradTo:"to-slate-400",ring:"focus:ring-gray-300",slider:"accent-gray-500",header:"text-gray-600",chip:"bg-gray-100 text-gray-700 border-gray-200",color:"#6b7280",bgSoft:"bg-gray-50"}},f={ansiedad:[/\b(preocup\w*|ansiedad\w*|presi[oó]n|miedo(s)?|nervio(s)?|estr[eé]s|abrumad\w*|angust\w*)\b/i],calma:[/\b(calma(da|do)?|tranquil\w*|paz|respiro|relaj\w*|sereno)\b/i],alegria:[/\b(feliz|alegr\w*|content\w*|agradecid\w*|bien|entusias\w*|genial|perfecto)\b/i],tristeza:[/\b(triste\w*|llor\w*|nostal\w*|melancol\w*|decepcion\w*|mal)\b/i],enojo:[/\b(enoj\w*|rabia|furioso|indignado|molesto)\b/i],frustracion:[/\b(frustr\w*|irritado|harto|cansado|no (pude|pod[ií]a)|no (sali[oó]|salen)|impotente)\b/i],neutra:[]};async function j(e){try{let t=await fetch("/api/ai",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({text:e})});if(!t.ok)return null;return await t.json()}catch{return null}}function v({children:e,className:t="",delay:a=0}){let[n,i]=(0,r.useState)(!1);return s.jsx("div",{className:`transition-all duration-700 cubic-bezier(0.175, 0.885, 0.32, 1.275) ${n?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"} ${t}`,children:e})}function w({onSave:e}){let[t,a]=(0,r.useState)({emotion:"neutra",secondaryEmotions:[],intensity:5,notes:"",tags:[]}),[n,i]=(0,r.useState)(null),[l,x]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),p=function(e,t,a=2e4){let[s,n]=(0,r.useState)(null);return s}(0,0,5e3),b=(0,r.useMemo)(()=>(function(e){let t=e.split(/[.!?]+/).filter(e=>e.trim().length>5),a=new Map;t.forEach(e=>{let t=e.trim();Object.keys(f).forEach(e=>{f[e].forEach(s=>{if(s.test(t)){a.has(e)||a.set(e,{count:0,phrases:new Set});let s=a.get(e);s.count++,s.phrases.add(t.slice(0,80))}})})});let s=[];return a.forEach((e,t)=>s.push({emotion:t,intensity:Math.min(10,Math.round(3+2*e.count)),phrases:Array.from(e.phrases).slice(0,2)})),s.sort((e,t)=>t.intensity-e.intensity),s.length?s:[{emotion:"neutra",intensity:5,phrases:[]}]})(t.notes),[t.notes]),w=y[t.emotion],N=async()=>{t.notes.trim().length<20||(x(!0),g(!0),i(await j(t.notes)),x(!1))};return(0,s.jsxs)("div",{className:"space-y-8 max-w-3xl mx-auto",children:[(0,s.jsxs)(v,{children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\xbfC\xf3mo te sientes hoy?"}),s.jsx("p",{className:"text-gray-500",children:"Selecciona la emoci\xf3n que mejor te describa"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:Object.keys(y).map(e=>{let r=y[e],n=t.emotion===e;return(0,s.jsxs)("button",{onClick:()=>a({...t,emotion:e}),className:`flex flex-col items-center justify-center p-3 rounded-2xl transition-all duration-300 border-2 ${n?"bg-white shadow-lg scale-105":"bg-white/50 border-transparent hover:bg-white hover:border-gray-200 hover:scale-105"}`,style:{borderColor:n?r.color:void 0},children:[s.jsx("span",{className:"text-3xl mb-1 filter drop-shadow-sm",children:r.emoji}),s.jsx("span",{className:`text-xs font-bold ${n?"text-gray-900":"text-gray-500"}`,children:r.name})]},e)})})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-2 space-y-6",children:s.jsx(v,{delay:100,children:(0,s.jsxs)("div",{className:`bg-white/70 backdrop-blur-xl rounded-3xl p-6 border border-white/40 shadow-xl transition-colors duration-500 ${w.ring} ring-1 ring-opacity-20`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,s.jsxs)("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[s.jsx(o.Z,{className:"w-4 h-4 text-emerald-500"})," Tu Diario"]}),s.jsx("span",{className:"text-xs text-gray-400 font-medium",children:p?"Autoguardado":"Escribiendo..."})]}),s.jsx("textarea",{value:t.notes,onChange:e=>a({...t,notes:e.target.value}),placeholder:"Hoy me siento...",className:"w-full h-64 bg-transparent border-0 resize-none focus:ring-0 text-gray-700 text-lg leading-relaxed placeholder:text-gray-400"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100/50",children:[s.jsx("div",{className:"flex gap-2",children:b.length>1&&b.slice(0,2).map(e=>(0,s.jsxs)("button",{onClick:()=>a(t=>({...t,secondaryEmotions:[...t.secondaryEmotions,e.emotion]})),className:"text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:["+ ",y[e.emotion].name]},e.emotion))}),(0,s.jsxs)("button",{onClick:N,disabled:l||t.notes.trim().length<20,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-violet-500 to-fuchsia-500 text-white rounded-full text-sm font-bold shadow-md hover:shadow-lg hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[l?s.jsx("div",{className:"animate-spin",children:"✨"}):s.jsx(d.Z,{className:"w-4 h-4"}),l?"Pensando...":"Analizar IA"]})]})]})})}),(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(v,{delay:200,children:(0,s.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl p-6 border border-white/40 shadow-lg",children:[(0,s.jsxs)("label",{className:"block mb-4",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700 mb-1 block",children:"Intensidad"}),s.jsx("span",{className:`text-3xl font-black ${w.header}`,children:t.intensity}),s.jsx("span",{className:"text-gray-400 text-sm",children:" / 10"})]}),s.jsx("div",{className:"h-64 flex flex-col justify-center items-center",children:s.jsx("input",{type:"range",min:1,max:10,value:t.intensity,onChange:e=>a({...t,intensity:Number(e.target.value)}),className:`appearance-none h-4 rounded-full outline-none cursor-pointer shadow-inner ${w.slider}`,style:{background:`linear-gradient(to right, ${w.color} 0%, ${w.color} ${10*t.intensity}%, #e2e8f0 ${10*t.intensity}%, #e2e8f0 100%)`,transform:"rotate(-90deg)",width:"256px",margin:"-120px 0"}})})]})}),s.jsx(v,{delay:300,children:(0,s.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl p-6 border border-white/40 shadow-lg",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 mb-2 block",children:"Etiquetas"}),s.jsx("input",{type:"text",value:(t.tags||[]).join(", "),onChange:e=>a({...t,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"escuela, amigos...",className:"w-full bg-white/50 border border-gray-200 rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-emerald-400 outline-none"})]})})]})]}),h&&n&&s.jsx(v,{delay:50,className:"relative z-10",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-violet-50 to-fuchsia-50 rounded-3xl p-8 border-2 border-violet-100 shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:s.jsx(c.Z,{className:"w-64 h-64 text-violet-500"})}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-2xl font-bold text-violet-900 flex items-center gap-2",children:[s.jsx(d.Z,{className:"w-6 h-6 text-violet-500"}),"Insights de IA"]}),s.jsx("p",{className:"text-violet-600",children:"Esto es lo que not\xe9 en tu escritura..."})]}),s.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-black/5 rounded-full",children:s.jsx(m.Z,{className:"w-5 h-5 text-gray-500"})})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"bg-white/60 rounded-2xl p-4",children:[s.jsx("h4",{className:"font-bold text-gray-700 mb-2 text-sm uppercase tracking-wider",children:"An\xe1lisis Emocional"}),s.jsx("div",{className:"space-y-2",children:n.emotions.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white rounded-lg shadow-sm",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[y[e.emotion].emoji,s.jsx("span",{className:"font-medium",children:y[e.emotion].name})]}),s.jsx("div",{className:"h-2 w-24 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-violet-500",style:{width:`${10*e.intensity}%`}})})]},t))})]}),(0,s.jsxs)("div",{className:"bg-white/60 rounded-2xl p-4",children:[s.jsx("h4",{className:"font-bold text-gray-700 mb-2 text-sm uppercase tracking-wider",children:"Resumen & Consejos"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:n.summary}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.suggestions_quick.map((e,t)=>(0,s.jsxs)("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-md border border-emerald-200",children:["\uD83D\uDCA1 ",e]},t))})]})]}),s.jsx("button",{onClick:()=>{n&&a(e=>({...e,emotion:n.primary,secondaryEmotions:n.emotions.slice(1,3).map(e=>e.emotion),intensity:n.emotions[0]?.intensity??5}))},className:"w-full py-3 bg-violet-600 hover:bg-violet-700 text-white font-bold rounded-xl transition-colors shadow-lg shadow-violet-200",children:"Aplicar estos resultados a mi entrada"})]})]})}),s.jsx(v,{delay:400,children:(0,s.jsxs)("button",{onClick:()=>{e({...t,notes:t.notes.trim(),tags:t.tags.map(e=>e.trim()).filter(Boolean),aiAnalysis:n||void 0}),a({emotion:"neutra",secondaryEmotions:[],intensity:5,notes:"",tags:[]}),i(null),g(!1)},className:`w-full py-4 rounded-2xl bg-gradient-to-r ${w.gradFrom} ${w.gradTo} text-white font-bold text-lg shadow-lg hover:shadow-2xl hover:scale-[1.01] transition-all flex items-center justify-center gap-3`,children:[s.jsx(u,{className:"w-6 h-6"})," Guardar Entrada"]})})]})}function N({entries:e,onDelete:t,loading:a}){let[n,i]=(0,r.useState)(null);return a?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-60",children:[s.jsx(o.Z,{className:"w-16 h-16 text-gray-300 mb-4",strokeWidth:1}),s.jsx("h3",{className:"text-lg font-bold text-gray-400",children:"Cargando tu historia..."})]}):0===e.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-60",children:[s.jsx(o.Z,{className:"w-24 h-24 text-gray-300 mb-4",strokeWidth:1}),s.jsx("h3",{className:"text-xl font-bold text-gray-400",children:"Tu historia comienza hoy"}),s.jsx("p",{className:"text-gray-400 max-w-xs mx-auto",children:"Escribe tu primera entrada para empezar a ver tus patrones emocionales."})]}):s.jsx("div",{className:"grid gap-4 max-w-3xl mx-auto",children:e.map((e,a)=>{let r=y[e.emotion],l=n===e.id;return s.jsx(v,{delay:50*a,children:(0,s.jsxs)("div",{className:"group relative bg-white/80 backdrop-blur-md border border-white/50 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-emerald-500"}),s.jsx("div",{className:"p-5 pl-8 cursor-pointer",onClick:()=>i(l?null:e.id),children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-gray-50 rounded-2xl text-3xl shadow-inner",children:r.emoji}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-bold text-gray-800 text-lg flex items-center gap-2",children:[r.name,s.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-gray-100 rounded-full text-gray-500",children:new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("p",{className:"text-sm text-gray-500 capitalize",children:new Date(e.createdAt).toLocaleDateString(void 0,{weekday:"long",day:"numeric",month:"long"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-right hidden sm:block",children:[s.jsx("div",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider",children:"Intensidad"}),s.jsx("div",{className:`text-xl font-black ${r.header}`,children:e.intensity})]}),s.jsx(h.Z,{className:`w-5 h-5 text-gray-400 transition-transform ${l?"rotate-180":""}`})]})]})}),l&&(0,s.jsxs)("div",{className:"px-8 pb-6 pt-2 pl-8 border-t border-gray-100 animate-in slide-in-from-top-2",children:[s.jsx("p",{className:"text-gray-700 text-lg leading-relaxed whitespace-pre-wrap mb-6 font-serif",children:e.notes}),e.aiAnalysis&&(0,s.jsxs)("div",{className:"bg-gradient-to-r from-violet-50 to-fuchsia-50 p-4 rounded-xl border border-violet-100 mb-4 flex gap-3",children:[s.jsx(d.Z,{className:"w-5 h-5 text-violet-500 flex-shrink-0 mt-1"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-bold text-violet-700 uppercase tracking-wide mb-1",children:"An\xe1lisis IA"}),s.jsx("p",{className:"text-sm text-violet-900",children:e.aiAnalysis.summary})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-end mt-4",children:[s.jsx("div",{className:"flex gap-2 flex-wrap",children:e.tags.map(e=>(0,s.jsxs)("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:["#",e]},e))}),s.jsx("button",{onClick:a=>{a.stopPropagation(),t(e.id)},className:"text-red-400 hover:text-red-600 p-2 rounded-lg hover:bg-red-50 transition-colors",children:s.jsx(g,{className:"w-5 h-5"})})]})]})]})},e.id)})})}function k({entries:e}){let t=function(e){let t=new Date,a=Array.from({length:7},(e,a)=>{let s=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()-(6-a)));return{key:s.toISOString().slice(0,10),label:s.toLocaleDateString("es",{weekday:"short"}),entries:[]}}),s=new Map(a.map((e,t)=>[e.key,t]));return e.forEach(e=>{let t=s.get(e.createdAt.slice(0,10));void 0!==t&&a[t].entries.push(e)}),a.map(e=>({day:e.label,avgIntensity:e.entries.length?e.entries.reduce((e,t)=>e+t.intensity,0)/e.entries.length:0,dominantEmotion:e.entries.reduce((e,t)=>(e[t.emotion]=(e[t.emotion]||0)+1,e),{}),count:e.entries.length}))}(e),a=e.length,r=e.reduce((e,t)=>e+t.intensity,0)/(a||1);return(0,s.jsxs)("div",{className:"space-y-8 max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(v,{delay:0,children:(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl p-6 rounded-3xl shadow-sm border border-white/60",children:[s.jsx("div",{className:"text-gray-500 text-sm font-medium mb-1",children:"Entradas Totales"}),s.jsx("div",{className:"text-4xl font-black text-gray-800",children:a})]})}),s.jsx(v,{delay:50,children:(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl p-6 rounded-3xl shadow-sm border border-white/60",children:[s.jsx("div",{className:"text-gray-500 text-sm font-medium mb-1",children:"Intensidad Promedio"}),s.jsx("div",{className:"text-4xl font-black text-emerald-600",children:r.toFixed(1)})]})}),s.jsx(v,{delay:100,children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-violet-500 to-fuchsia-500 text-white p-6 rounded-3xl shadow-lg",children:[s.jsx("div",{className:"text-white/80 text-sm font-medium mb-1",children:"Racha Actual"}),(0,s.jsxs)("div",{className:"text-4xl font-black flex items-center gap-2",children:["3"," ",s.jsx("span",{className:"text-lg font-normal opacity-80",children:"d\xedas"})," ","\uD83D\uDD25"]})]})})]}),s.jsx(v,{delay:200,children:(0,s.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl p-8 border border-white/50 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-8",children:[s.jsx(p,{className:"w-6 h-6 text-gray-400"}),s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Estado de \xc1nimo Semanal"})]}),s.jsx("div",{className:"flex items-end justify-between h-64 gap-2 md:gap-4",children:t.map((e,t)=>{let a=e.avgIntensity/10*100,r=Object.entries(e.dominantEmotion).sort((e,t)=>t[1]-e[1])[0],n=y[r?r[0]:"neutra"];return(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center group relative",children:[(0,s.jsxs)("div",{className:"absolute -top-12 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-900 text-white text-xs py-1 px-2 rounded pointer-events-none whitespace-nowrap z-10",children:[n.name,": ",e.avgIntensity.toFixed(1)]}),s.jsx("div",{className:"w-full relative flex items-end justify-center rounded-2xl bg-gray-100/50 h-full overflow-hidden",children:e.count>0&&s.jsx("div",{className:`w-full bg-gradient-to-t ${n.gradFrom} ${n.gradTo} rounded-t-xl transition-all duration-1000 ease-out opacity-90 group-hover:opacity-100`,style:{height:`${a||5}%`}})}),(0,s.jsxs)("div",{className:"mt-3 text-center",children:[s.jsx("div",{className:"text-xl mb-1 filter drop-shadow-sm transition-transform group-hover:scale-125",children:e.count>0?n.emoji:""}),s.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:e.day})]})]},t)})})]})})]})}function D(){(0,n.useRouter)();let{user:e,loading:t}=(0,i.a)(),[a,d]=(0,r.useState)("nueva"),{entries:c,saveEntry:m,deleteEntry:x,loadingEntries:u}=(0,l.D)(),[h,g]=(0,r.useState)({show:!1,msg:""}),y=e=>{g({show:!0,msg:e}),setTimeout(()=>g({show:!1,msg:""}),3e3)},f=async e=>{await m(e)?(y("✨ Entrada guardada en tu diario"),d("historial")):y("⚠️ No se pudo guardar la entrada. Intenta de nuevo.")};return t||!e?s.jsx("main",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-600",children:"Cargando tu espacio seguro…"})}):(0,s.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 pb-20",children:[(0,s.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-10 space-y-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white/40 backdrop-blur-md rounded-2xl mb-4 shadow-sm border border-white/50",children:s.jsx("span",{className:"text-4xl",children:"\uD83D\uDCD3"})}),(0,s.jsxs)("h1",{className:"text-4xl md:text-5xl font-black text-gray-800 tracking-tight",children:["Diario"," ",s.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 bg-clip-text text-transparent",children:"Emocional"})]}),s.jsx("p",{className:"text-lg text-gray-500 font-medium max-w-lg mx-auto",children:"Un espacio seguro para documentar tu viaje, entender tus emociones y crecer cada d\xeda."})]}),s.jsx("div",{className:"sticky top-24 z-30 flex justify-center mb-8",children:s.jsx("div",{className:"bg-white/80 backdrop-blur-xl p-1.5 rounded-full shadow-xl border border-white/50 flex gap-1",children:[{id:"nueva",label:"Escribir",icon:b},{id:"historial",label:"Historial",icon:o.Z},{id:"analisis",label:"Insights",icon:p}].map(e=>{let t=a===e.id,r=e.icon;return(0,s.jsxs)("button",{onClick:()=>d(e.id),className:`flex items-center gap-2 px-6 py-2.5 rounded-full font-bold text-sm transition-all duration-300 ${t?"bg-gray-900 text-white shadow-lg scale-105":"text-gray-500 hover:bg-gray-100/80 hover:text-gray-900"}`,children:[s.jsx(r,{className:"w-4 h-4"}),e.label]},e.id)})})}),(0,s.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:["nueva"===a&&s.jsx(w,{onSave:f}),"historial"===a&&s.jsx(N,{entries:c,onDelete:x,loading:u}),"analisis"===a&&s.jsx(k,{entries:c})]})]}),s.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 transition-all duration-500 ${h.show?"translate-y-0 opacity-100":"translate-y-10 opacity-0 pointer-events-none"}`,children:(0,s.jsxs)("div",{className:"bg-gray-900/90 backdrop-blur-md text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-3",children:[s.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:"✅"}),s.jsx("span",{className:"font-medium",children:h.msg})]})})]})}},1765:(e,t,a)=>{"use strict";a.d(t,{D:()=>i});var s=a(7577),r=a(5472),n=a(5694);function i(){let{user:e}=(0,n.a)(),[t,a]=(0,s.useState)([]),[i,l]=(0,s.useState)(!0);return{entries:t,saveEntry:async t=>{if(!e)return null;let s={user_id:e.id,content:t.notes,emotion:t.emotion,emocion_principal:t.emotion,intensidad:t.intensity,tags:t.tags,secondary_emotions:t.secondaryEmotions,analisis_ia:t.aiAnalysis??null},{data:n,error:i}=await r.O.from("journal_entries").insert(s).select().single();if(i)return console.error("Error guardando entrada:",i),null;let l={id:n.id,emotion:n.emotion||t.emotion,secondaryEmotions:n.secondary_emotions||t.secondaryEmotions,intensity:n.intensity??t.intensity,notes:n.content??t.notes,tags:n.tags||t.tags,createdAt:n.created_at,aiAnalysis:n.ai_analysis??t.aiAnalysis};return a(e=>[l,...e]),l.id},deleteEntry:async e=>{let{error:t}=await r.O.from("journal_entries").delete().eq("id",e);if(t){console.error("Error al borrar entrada:",t);return}a(t=>t.filter(t=>t.id!==e))},loadingEntries:i}}},8360:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]])},1572:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},4019:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7586:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var s=a(8570);let r=(0,s.createProxy)(String.raw`C:\Users\Maria Guadalupe\Desktop\mindful_proyect\app\journal\page.tsx`),{__esModule:n,$$typeof:i}=r;r.default;let l=(0,s.createProxy)(String.raw`C:\Users\Maria Guadalupe\Desktop\mindful_proyect\app\journal\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[948,499,863],()=>a(7124));module.exports=s})();